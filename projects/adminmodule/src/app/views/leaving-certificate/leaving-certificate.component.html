<c-row>
  <div class="col-lg-12">
    <c-card>
      <c-card-header style="background-color: #f0f3f5">
        <h4><b>LC Form</b></h4>
      </c-card-header>
      <c-card-body>
        <c-nav variant="tabs">
          <c-nav-item>
            <a
              [active]="currentactive"
              [cTabContent]="tabContent"
              [tabPaneIdx]="0"
              cNavLink
            >
              Existing Sudents LC Format Download
            </a>
          </c-nav-item>
          <c-nav-item>
            <a [cTabContent]="tabContent" [tabPaneIdx]="1" cNavLink>
              LC Form
            </a>
          </c-nav-item>
        </c-nav>
        <c-tab-content #tabContent="cTabContent">
          <c-tab-pane class="p-3">
            <c-card-body>
              <c-row>
                <c-col [md]="6">
                  <label for="Batch_Name">Batch:</label>
                  <div
                    id="Batch_Name"
                    class="ng-autocomplete"
                    style="width: 100%"
                  >
                    <ng-autocomplete
                      [data]="Batchs"
                      [searchKeyword]="Batchkeyword"
                      (selected)="selectBatch($event)"
                      (inputChanged)="onChangeSearch($event)"
                      (inputFocused)="onFocused($event)"
                      [itemTemplate]="batTemplate"
                      [notFoundTemplate]="notFoundTemplate"
                      placeholder="Select Batch"
                    >
                    </ng-autocomplete>

                    <ng-template #batTemplate let-bat>
                      <a [innerHTML]="bat.Batch_Name"></a>
                    </ng-template>

                    <ng-template #notFoundTemplate let-notFound>
                      <div [innerHTML]="notFound"></div>
                    </ng-template>
                  </div>
                </c-col>
                <c-col [md]="2" style="padding-top: 23px">
                  <button
                    cButton
                    type="submit"
                    class="btn btn-info"
                    style="padding-left: 20px; padding-right: 20px"
                    (click)="OnDownloadExistingLC()"
                  >
                    <!--                                        <i style="border-color: white;" class="spinner-border text-primary"-->
                    <!--                                           role="status" *ngIf="LCDownloadloader"></i>-->
                    <c-spinner
                      *ngIf="LCDownloadloader"
                      aria-hidden="false"
                      size="sm"
                    ></c-spinner>

                    LC Download
                  </button>
                </c-col>
              </c-row>
            </c-card-body>
          </c-tab-pane>
          <c-tab-pane class="p-3">
            <c-card-body>
              <form
                cForm
                [formGroup]="LeavingCertificateForm"
                (keydown.enter)="$event.preventDefault()"
              >
                <c-row>
                  <c-col [md]="4">
                    <label for="Batch_Name">Batch:</label>
                    <div class="ng-autocomplete" style="width: 100%">
                      <ng-autocomplete
                        [data]="Batchs"
                        [searchKeyword]="Batchkeyword"
                        (selected)="selectBatch($event)"
                        (inputChanged)="onChangeSearch($event)"
                        (inputFocused)="onFocused($event)"
                        [itemTemplate]="batTemplate"
                        [notFoundTemplate]="notFoundTemplate"
                        placeholder="Select Batch"
                      >
                      </ng-autocomplete>

                      <ng-template #batTemplate let-bat>
                        <a [innerHTML]="bat.Batch_Name"></a>
                      </ng-template>

                      <ng-template #notFoundTemplate let-notFound>
                        <div [innerHTML]="notFound"></div>
                      </ng-template>
                    </div>
                  </c-col>

                  <c-col [md]="3">
                    <label for="stream">Stream : </label>
                    <input  id="stream"
                            type="text" formControlName="stream"  name="stream"
                        class="form-control" placeholder="Enter Stream" >
                    <span *ngIf="LeavingCertificateForm.get('stream')?.invalid && LeavingCertificateForm.get('stream')?.touched"
                        class="text-danger">Stream is Required</span>
                </c-col>

                  <c-col [md]="2" style="padding-top: 23px">
                    <button
                      cButton
                      type="submit"
                      class="btn btn-info"
                      style="padding-left: 20px; padding-right: 20px"
                      (click)="OnDownloadFile()"
                    >
                      <!--                                            <i style="border-color: white;" class="spinner-border text-primary"-->
                      <!--                                               role="status" *ngIf="Downloadloader"></i>-->
                      <c-spinner
                        *ngIf="Downloadloader"
                        aria-hidden="false"
                        size="sm"
                      ></c-spinner>

                      Download
                    </button>
                  </c-col>
                  <c-col [md]="2" style="padding-top: 23px">
                    <button
                      cButton
                      type="submit"
                      class="btn btn-success"
                      style="padding-left: 20px; padding-right: 20px"
                      (click)="viewFile()"
                    >
                      <!--                                            <i style="border-color: white;" class="spinner-border text-primary"-->
                      <!--                                               role="status" *ngIf="viewloader"></i>-->
                      <c-spinner
                        *ngIf="viewloader"
                        aria-hidden="false"
                        size="sm"
                      ></c-spinner>

                      View
                    </button>
                  </c-col>
                  <c-col [md]="2" style="padding-top: 23px">
                    <button
                      cButton
                      type="submit"
                      class="btn btn-info"
                      style="padding-left: 20px; padding-right: 20px"
                      (click)="PdfileView()"
                    >
                      <!--                                            <i style="border-color: white;" class="spinner-border text-primary"-->
                      <!--                                               role="status" *ngIf="viewloader"></i>-->
                      <c-spinner
                        *ngIf="printloader"
                        aria-hidden="false"
                        size="sm"
                      ></c-spinner>

                      Print
                    </button>
                  </c-col>
                  <c-col [md]="2" style="padding-top: 23px">
                    <button
                      cButton
                      type="reset"
                      size="md"
                      class="btn btn-danger"
                      style="padding-left: 20px; padding-right: 20px"
                      (click)="resetAll()"
                    >
                      Reset
                    </button>
                  </c-col>
                </c-row>
              </form>

              <br />
              <form
                cForm
                [formGroup]="DownloadUploadForm"
                (keydown.enter)="$event.preventDefault()"
              >
                <c-row>
                  <c-col [md]="5">
                    <h6>Upload Image</h6>
                    <input
                      aria-label="file example"
                      cFormControl
                      id="validationText1"
                      type="file"
                      (change)="xlsxUpload($event)"
                    />
                    <c-form-feedback [valid]="false"
                      >Example invalid form file feedback</c-form-feedback
                    >
                  </c-col>

                  <c-col [md]="2" style="padding-top: 25px">
                    <button
                      cButton
                      type="submit"
                      size="md"
                      class="btn btn-success"
                      (click)="uploadfile()"
                    >
                      <!--                                  <i style="border-color: white;" class="spinner-border text-primary" role="status"-->
                      <!--                                     *ngIf="loader"></i>-->
                      <c-spinner
                        *ngIf="loader"
                        aria-hidden="false"
                        size="sm"
                      ></c-spinner>

                      &nbsp;&nbsp; Upload
                    </button>
                  </c-col>
                </c-row>
              </form>
            </c-card-body>
            <c-card-body>
              <ag-grid-angular
                style="width: 100%; height: 300px"
                class="ag-theme-alpine"
                [rowData]="rowss"
                [gridOptions]="gridOptions"
                [columnDefs]="columnDefs"
                (gridReady)="onGridReady($event)"
                [rowSelection]="rowSelection"
                (rowSelected)="onRowSelectedEvent($event)"
                (selectionChanged)="onSelectionChanged($event)"
              >
              </ag-grid-angular>
            </c-card-body>
          </c-tab-pane>
        </c-tab-content>
      </c-card-body>
    </c-card>
  </div>
</c-row>
