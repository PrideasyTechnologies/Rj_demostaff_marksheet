<div class="row">
  <div class="col-lg-12">
    <c-card>
      <c-card-header style="background-color: #f0f3f5">
        <h4><b>Eligible List Form</b></h4>
      </c-card-header>

      <c-card-body>
        <c-nav variant="tabs">
          <c-nav-item>
            <a
              [active]="true"
              [cTabContent]="tabContent"
              [tabPaneIdx]="0"
              cNavLink
            >
              Eligible List Form
            </a>
          </c-nav-item>
          <c-nav-item>
            <a [cTabContent]="tabContent" [tabPaneIdx]="1" cNavLink>
              Add Students for Eligibility
            </a>
          </c-nav-item>
        </c-nav>

        <c-tab-content #tabContent="cTabContent">
          <!------------------------------------ Tab 1 -------------------------------------------->

          <c-tab-pane class="p-3">
            <form
              cForm
              [formGroup]="EligibleListForm"
              (keydown.enter)="$event.preventDefault()"
            >
              <div class="row">
                <div class="col-md-5">
                  <label>Batch:</label>
                  <div class="ng-autocomplete" style="width: 100%">
                    <ng-autocomplete
                      [data]="Batchs"
                      [searchKeyword]="Batchkeyword"
                      (selected)="selectBatch($event)"
                      (inputChanged)="onChangeSearch($event)"
                      (inputFocused)="onFocused($event)"
                      [itemTemplate]="batTemplate"
                      [notFoundTemplate]="notFoundTemplate"
                      placeholder="Select Batch"
                    >
                    </ng-autocomplete>

                    <ng-template #batTemplate let-bat>
                      <a [innerHTML]="bat.Batch_Name"></a>
                    </ng-template>

                    <ng-template #notFoundTemplate let-notFound>
                      <div [innerHTML]="notFound"></div>
                    </ng-template>
                  </div>
                </div>
                <div class="col-md-2" style="padding-top: 22px">
                  <button
                    cButton
                    type="submit"
                    class="btn btn-info"
                    (click)="OnDownloadFile()"
                  >
                    <!--                <i style="border-color: white;" class="spinner-border text-primary" role="status"-->
                    <!--                   *ngIf="Downloadloader"></i>-->
                    <c-spinner
                      *ngIf="Downloadloader"
                      aria-hidden="false"
                      size="sm"
                    ></c-spinner>
                    Download
                  </button>
                </div>
                <div class="col-md-2" style="padding-top: 22px">
                  <button
                    cButton
                    type="submit"
                    class="btn btn-info"
                    (click)="viewFile()"
                  >
                    <!--                <i style="border-color: white;" class="spinner-border text-primary" role="status"-->
                    <!--                   *ngIf="viewloader"></i>&nbsp;-->
                    <c-spinner
                      *ngIf="viewloader"
                      aria-hidden="false"
                      size="sm"
                    ></c-spinner>

                    View
                  </button>
                </div>
                <div class="col-md-2" style="padding-top: 22px">
                  <button
                    cButton
                    type="reset"
                    size="md"
                    class="btn btn-danger"
                    (click)="resetAll()"
                  >
                    Reset
                  </button>
                </div>
              </div>
            </form>

            <br />
            <form
              cForm
              [formGroup]="DownloadUploadForm"
              (keydown.enter)="$event.preventDefault()"
            >
              <div class="row">
                <div class="col-md-5">
                  <h6>Upload Image</h6>
                  <input
                    aria-label="file example"
                    cFormControl
                    (change)="xlsxUpload($event)"
                    id="validationText1"
                    type="file"
                  />
                  <c-form-feedback [valid]="false"
                    >Example invalid form file feedback</c-form-feedback
                  >
                </div>

                <div class="col-md-2" style="padding-top: 25px">
                  <button
                    cButton
                    type="submit"
                    size="md"
                    class="btn btn-success"
                    (click)="uploadfile()"
                  >
                    <!--                <i style="border-color: white;" class="spinner-border text-primary" role="status"-->
                    <!--                   *ngIf="loader"></i>&nbsp;-->
                    <c-spinner
                      *ngIf="loader"
                      aria-hidden="false"
                      size="sm"
                    ></c-spinner>

                    Upload
                  </button>
                </div>
              </div>
            </form>

            <!--        <div class="row">-->
            <!--          <div class="col-md-12">-->
            <!--            <div class="input-group">-->
            <!--              <div class="input-group-prepend">-->
            <!--                <span class="input-group-text"><i class="cil-search"></i></span>-->
            <!--              </div>-->
            <!--              <input cInput placeholder="Search Here"-->
            <!--                     (keyup)="quickSearch()"-->
            <!--                     [(ngModel)]="searchValue">-->
            <!--            </div>-->
            <!--          </div>-->
            <!--        </div>-->
            <div class="row">
              <div class="col-md-12" style="padding-top: 20px">
                <!--                    <form cForm class="d-flex" role="search">-->
                <!--          <div class="input-group">-->
                <!--            <div class="input-group-prepend">-->
                <!--              <span class="input-group-text"><i class="cil-search"></i></span>-->
                <!--            </div>-->
                <!--            <input cInput cFormControl placeholder="Search Here" (keyup)="quickSearch()" [(ngModel)]="searchValue">-->
                <!--          </div>-->
                <c-input-group class="mb-3">
                  <span cInputGroupText id="basic-addon1">Search</span>
                  <input
                    aria-describedby="basic-addon1"
                    aria-label="Username"
                    cFormControl
                    placeholder="Search here"
                    [(ngModel)]="searchValue"
                    (keyup)="quickSearch()"
                  />
                </c-input-group>
                <!--                    </form>-->
              </div>
            </div>
            <br />
            <hr />
            <h4 style="color: red">Note:</h4>
            <h5><b>1 =</b> Eligible and <b>0 =</b> Not Eligible</h5>
            <hr />
            <ag-grid-angular
              style="width: 100%; height: 300px"
              class="ag-theme-alpine"
              [rowData]="rowss"
              [gridOptions]="gridOptions"
              [columnDefs]="columnDefs"
              (gridReady)="onGridReady($event)"
              (rowSelected)="onRowSelectedEvent($event)"
              (selectionChanged)="onSelectionChanged($event)"
            >
            </ag-grid-angular>
          </c-tab-pane>

          <!------------------------------------ Tab 2 -------------------------------------------->

          <c-tab-pane class="p-3">
            <form
              cForm
              [formGroup]="StudentsListForm"
              (keydown.enter)="$event.preventDefault()"
            >
              <div class="row">
                <div class="col-md-4">
                  <label>Batch:</label>
                  <div class="ng-autocomplete" style="width: 100%">
                    <ng-autocomplete
                      [data]="Batchs"
                      [searchKeyword]="Batchkeyword"
                      (selected)="selectBatch_students($event)"
                      (inputChanged)="onChangeSearch($event)"
                      (inputFocused)="onFocused($event)"
                      [itemTemplate]="batTemplate"
                      [notFoundTemplate]="notFoundTemplate"
                      placeholder="Select Batch"
                    >
                    </ng-autocomplete>

                    <ng-template #batTemplate let-bat>
                      <a [innerHTML]="bat.Batch_Name"></a>
                    </ng-template>

                    <ng-template #notFoundTemplate let-notFound>
                      <div [innerHTML]="notFound"></div>
                    </ng-template>
                  </div>
                </div>

                <div class="col-md-3">
                  <label for="students_aadhaar">Aadhaar No :</label>
                  <input
                    id="students_aadhaar"
                    type="number"
                    class="form-control"
                    formControlName="students_aadhaar"
                    minlength="12"
                    maxlength="12"
                    placeholder="Aadhaar No."
                  />
                </div>

                <div class="col-md-2" style="padding-top: 22px">
                  <button
                    cButton
                    type="submit"
                    class="btn btn-info"
                    (click)="AddStudents()"
                  >
                    <!--                <i style="border-color: white;" class="spinner-border text-primary" role="status"-->
                    <!--                   *ngIf="Downloadloader"></i>-->
                    Add Student
                  </button>
                </div>

                <div class="col-md-2" style="padding-top: 22px">
                  <button
                    cButton
                    type="reset"
                    size="md"
                    class="btn btn-danger"
                    (click)="resetstudentsform()"
                  >
                    Reset
                  </button>
                </div>
              </div>
            </form>
          </c-tab-pane>
        </c-tab-content>
      </c-card-body>
    </c-card>
  </div>
</div>
